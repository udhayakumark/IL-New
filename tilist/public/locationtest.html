<!DOCTYPE html>
<html>
<head>
    <title>Location Module</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
    
    <script type="text/javascript">
            $(document).ready(function () {
                $('#locationform').submit(function (e) {
					e.preventDefault();
					var postData = $(this).serializeArray();
					var action = $(this).attr('action');
					var location = {};	
								
					$.each(postData, function(i, field ) {
					  eval('location.'+ field.name + '= "' + field.value + '";');
					});
					
					var post = {};
					post.form_data = JSON.stringify(location);
					
					$.ajax({
					    type: 'POST',
						url: action,
						data: post,
						dataType: 'json',
						success: function (result, status, xhr) {
								alert(JSON.stringify(result));
					        }
					    });
		  		});
		  		
		  		$('#locationgetform').submit(function (e) {
					e.preventDefault();
					var postData = $(this).serializeArray();
					var action = $(this).attr('action');
					var location = {};	
								
					$.each(postData, function(i, field ) {
					  eval('location.'+ field.name + '= "' + field.value + '";');
					});
					
					var post = {};
					post.form_data = JSON.stringify(location);
					
					$.ajax({
					    type: 'POST',
						url: action,
						data: post,
						dataType: 'json',
						success: function (result, status, xhr) {
								alert(JSON.stringify(result));
					        }
					    });
		  		});
            });
       </script>
</head>
<body>

<section>
    <form name="locationform" id="locationform" action="http://tilist.nodeville.net/location/save" method="post">
        <div>
        	<table style="margin-left: 40%">
        		<tr>
        			<td colspan="2" style="text-align: center; padding-bottom: 15px;"><strong>Save Location</strong></td>
        		</tr>
        		<tr>
        			<td><label>_id</label></td>
        			<td><input type="text" name="_id" value="0"></td>
        		</tr>
        		<tr>
        			<td><label>Name</label></td>
        			<td><input type="text" name="name" required></td>
        		</tr>
        		<tr>
        			<td><label>Apps</label></td>
        			<td>
        				<input type="text" name="appId" required>
        			</td>
        		</tr>
        		<tr>
        			<td colspan="2" style="text-align: center; padding-top: 15px;"><input type="submit" value="save"></td>
        		</tr>
        	</table>
        </div>
    </form>    
</section>
<section>
	<form name="locationgetform" id="locationgetform" action="http://tilist.nodeville.net/location/list" method="post">
		<div>
        	<table style="margin-left: 40%">
        		<tr>
        			<td colspan="2" style="text-align: center; padding-bottom: 15px;"><strong>Get Location List by Apps</strong></td>
        		</tr>
        		<tr>
        			<td><label>Apps</label></td>
        			<td>
        				<input type="text" name="appId" required>
        			</td>
        		</tr>
        		<tr>
        			<td colspan="2" style="text-align: center; padding-top: 15px;"><input type="submit" value="Submit"></td>
        		</tr>
        	</table>
        </div>
	</form>
</section>
<footer style="text-align:center">
    <h6>Copyright Matsya Infomatics Pvt Ltd.All rights reserved </h6>
</footer>
</body>
</html>
